{%
assign class_name = currentClass.friendlyName | camel_case | capitalize %}{%
if currentClass.systemDeviceNameConvention %}{%
    assign device_name_convention = currentClass.systemDeviceNameConvention | replace: '\{\d\}', '*' %}{%
else %}{%
    assign device_name_convention = '*' %}{%
endif %}{%
if currentClass.inheritance %}{%
    assign base_class = currentClass.inheritance | camel_case | capitalize %}{%
else %}{%
    assign base_class = 'Device' %}{%
endif%}

class {{ class_name }}({{ base_class }}):

    """{% for line in currentClass.description %}
    {{ line }}{% endfor %}
    """
{% if currentClass.inheritance %}
    SYSTEM_CLASS_NAME = {{ base_class }}.SYSTEM_CLASS_NAME
    SYSTEM_DEVICE_NAME_CONVENTION = {{ base_class }}.SYSTEM_DEVICE_NAME_CONVENTION
{% else %}
    SYSTEM_CLASS_NAME = '{{ currentClass.systemClassName }}'
    SYSTEM_DEVICE_NAME_CONVENTION = '{{ device_name_convention }}'
{% endif %}
    def __init__(self, port=None, name=SYSTEM_DEVICE_NAME_CONVENTION, **kwargs ):
        if port is not None:
            kwargs['port_name'] = port
        Device.__init__( self, self.SYSTEM_CLASS_NAME, name{%
if currentClass.driverName %}, driver_name=[{%
for name in currentClass.driverName %}'{{name}}', {%
endfor %}]{%
endif %}, **kwargs )
